import{v as A,O as s,N as B,C as w,a5 as M,h as b,a1 as u,aj as c,ao as f,au as T,ac as p,ab as $,H as m,ak as N,al as x,aA as I,aB as V,aC as L}from"./app.config.5ed4c0f1.js";import{u as E}from"./composables.7cac3cf7.js";import{p as y,g as H,w as D}from"./entry.7d9c8200.js";import K from"./client-only.c9ff92bc.js";const G=()=>A().$img,C={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)}},J=e=>{const o=s(()=>({provider:e.provider,preset:e.preset})),d=s(()=>({width:y(e.width),height:y(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding})),r=s(()=>({...e.modifiers,width:y(e.width),height:y(e.height),format:e.format,quality:e.quality,background:e.background,fit:e.fit}));return{options:o,attrs:d,modifiers:r}},O={...C,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},P=B({name:"NuxtPicture",props:O,emits:["load"],setup:(e,o)=>{var S,z,k;const d=G(),r=J(e),_=s(()=>["png","webp","gif"].includes(n.value)),n=s(()=>H(e.src)),l=s(()=>e.format||n.value==="svg"?"svg":"webp"),v=s(()=>e.legacyFormat?e.legacyFormat:{webp:_.value?"png":"jpeg",svg:"png"}[l.value]||n.value),a=s(()=>l.value==="svg"?[{srcset:e.src}]:(v.value!==l.value?[v.value,l.value]:[l.value]).map(g=>{const{srcset:R,sizes:F,src:q}=d.getSizes(e.src,{...r.options.value,sizes:e.sizes||d.options.screens,modifiers:{...r.modifiers.value,format:g}});return{src:q,type:`image/${g}`,sizes:F,srcset:R}}));if(e.preload){const t=(S=a.value)!=null&&S[1]?1:0,g={rel:"preload",as:"image",imagesrcset:a.value[t].srcset};(k=(z=a.value)==null?void 0:z[t])!=null&&k.sizes&&(g.imagesizes=a.value[t].sizes),E({link:[g]})}const i={...e.imgAttrs};for(const t in o.attrs)t in C&&!(t in i)&&(i[t]=o.attrs[t]);const j=w();return M(()=>{j.value.onload=t=>{o.emit("load",t)}}),()=>{var t;return b("picture",{key:a.value[0].src},[...(t=a.value)!=null&&t[1]?[b("source",{type:a.value[1].type,sizes:a.value[1].sizes,srcset:a.value[1].srcset})]:[],b("img",{ref:j,...r.attrs.value,...i,src:a.value[0].src,sizes:a.value[0].sizes,srcset:a.value[0].srcset})])}}}),fe=Object.freeze(Object.defineProperty({__proto__:null,default:P,pictureProps:O},Symbol.toStringTag,{value:"Module"})),Q={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},U=f("path",{d:"M12.5 45.832h64.582v8.332H12.5z"},null,-1),W=f("path",{d:"m59.168 77.918-5.836-5.836L75.418 50 53.332 27.918l5.836-5.836L87.082 50z"},null,-1),X=[U,W];function Y(e,o){return u(),c("svg",Q,X)}const Z={render:Y},ee={class:"absolute top-0 bottom-0 left-0 w-full z-10 overflow-y-auto overscroll-none flex flex-col"},te={class:"relative mt-auto p-4 md:px-5 md:py-4 after:content-[''] after:absolute after:-top-[100%] after:bottom-0 after:left-0 after:right-0 after:bg-gradient-to-t after:from-black/80 after:to-transparent after:-z-10 after:pointer-events-none"},ae=["src","alt"],oe={class:"p-4 md:px-5 md:py-4 pt-0 md:pt-0 bg-black/80 flex flex-col gap-3"},ne={key:0,class:"text-gray-300"},se={key:1,class:"flex flex-wrap gap-2"},re={class:"inline-block px-4 py-2 bg-gray-200 text-gray-700 font-medium text-xs uppercase rounded-full shadow-md whitespace-nowrap"},le=["href"],h=w({elementRef:null}),ge=B({__name:"Project",props:{project:{type:Object,default:null,required:!0}},setup(e){const o=w(null),d=s(()=>o.value&&h.value.elementRef===o.value||!1);function r(_){h.value.elementRef=o.value}return(_,n)=>{const l=P,v=T("Collapse"),a=K;return u(),c("li",{ref_key:"elementRef",ref:o,class:"group relative rounded overflow-hidden bg-zinc-100 dark:bg-zinc-800",onMouseenter:n[0]||(n[0]=i=>m(h).elementRef=m(o)),onMouseleave:n[1]||(n[1]=i=>m(h).elementRef=null),onTouchend:r,onTouchmove:n[2]||(n[2]=D(()=>{},["stop"]))},[p(l,{src:`${e.project._path}/thumbnail.jpg`,alt:`Image: ${e.project.title}`,loading:"lazy",width:"600",height:"365",quality:"80",sizes:"sm:100vw lg:50vw lg:50vw xl:600px"},null,8,["src","alt"]),f("div",ee,[f("div",te,[f("img",{class:"max-h-[60px]",src:`${e.project._path}/logo.svg`,alt:`Logo: ${e.project.title}`},null,8,ae)]),p(a,null,{default:$(()=>[p(v,{when:m(d),class:"v-collapse"},{default:$(()=>[f("div",oe,[e.project.description?(u(),c("div",ne,N(e.project.description),1)):x("",!0),e.project.tags&&e.project.tags.length?(u(),c("ul",se,[(u(!0),c(I,null,V(e.project.tags,i=>(u(),c("li",re,N(i),1))),256))])):x("",!0),e.project.url?(u(),c("a",{key:2,href:e.project.url,target:"_blank",class:"inline-flex gap-1 font-bold before:content-[''] before:block [@media(any-hover:hover)]:before:absolute [@media(any-hover:hover)]:before:inset-0 text-gray-300"},[L(" Voir le projet "),p(m(Z),{class:"w-5"})],8,le)):x("",!0)])]),_:1},8,["when"])]),_:1})])],544)}}});export{P as _,J as a,C as b,ge as c,fe as n,G as u};
