import{v as O,O as r,N,C as x,a5 as q,h as b,a1 as i,aj as c,ao as d,au as M,ac as _,ab as T,ak as $,al as w,aA as I,aB as V,aC as L,H as f}from"./app.config.5ed4c0f1.js";import{u as E}from"./composables.7cac3cf7.js";import{p as v,g as H,w as D}from"./entry.8b1f5943.js";const K=()=>O().$img,B={src:{type:String,required:!0},format:{type:String,default:void 0},quality:{type:[Number,String],default:void 0},background:{type:String,default:void 0},fit:{type:String,default:void 0},modifiers:{type:Object,default:void 0},preset:{type:String,default:void 0},provider:{type:String,default:void 0},sizes:{type:[Object,String],default:void 0},preload:{type:Boolean,default:void 0},width:{type:[String,Number],default:void 0},height:{type:[String,Number],default:void 0},alt:{type:String,default:void 0},referrerpolicy:{type:String,default:void 0},usemap:{type:String,default:void 0},longdesc:{type:String,default:void 0},ismap:{type:Boolean,default:void 0},loading:{type:String,default:void 0},crossorigin:{type:[Boolean,String],default:void 0,validator:e=>["anonymous","use-credentials","",!0,!1].includes(e)},decoding:{type:String,default:void 0,validator:e=>["async","auto","sync"].includes(e)}},G=e=>{const o=r(()=>({provider:e.provider,preset:e.preset})),u=r(()=>({width:v(e.width),height:v(e.height),alt:e.alt,referrerpolicy:e.referrerpolicy,usemap:e.usemap,longdesc:e.longdesc,ismap:e.ismap,crossorigin:e.crossorigin===!0?"anonymous":e.crossorigin||void 0,loading:e.loading,decoding:e.decoding})),n=r(()=>({...e.modifiers,width:v(e.width),height:v(e.height),format:e.format,quality:e.quality,background:e.background,fit:e.fit}));return{options:o,attrs:u,modifiers:n}},C={...B,legacyFormat:{type:String,default:null},imgAttrs:{type:Object,default:null}},P=N({name:"NuxtPicture",props:C,emits:["load"],setup:(e,o)=>{var S,z,k;const u=K(),n=G(e),p=r(()=>["png","webp","gif"].includes(s.value)),s=r(()=>H(e.src)),l=r(()=>e.format||s.value==="svg"?"svg":"webp"),m=r(()=>e.legacyFormat?e.legacyFormat:{webp:p.value?"png":"jpeg",svg:"png"}[l.value]||s.value),t=r(()=>l.value==="svg"?[{srcset:e.src}]:(m.value!==l.value?[m.value,l.value]:[l.value]).map(g=>{const{srcset:R,sizes:A,src:F}=u.getSizes(e.src,{...n.options.value,sizes:e.sizes||u.options.screens,modifiers:{...n.modifiers.value,format:g}});return{src:F,type:`image/${g}`,sizes:A,srcset:R}}));if(e.preload){const a=(S=t.value)!=null&&S[1]?1:0,g={rel:"preload",as:"image",imagesrcset:t.value[a].srcset};(k=(z=t.value)==null?void 0:z[a])!=null&&k.sizes&&(g.imagesizes=t.value[a].sizes),E({link:[g]})}const h={...e.imgAttrs};for(const a in o.attrs)a in B&&!(a in h)&&(h[a]=o.attrs[a]);const j=x();return q(()=>{j.value.onload=a=>{o.emit("load",a)}}),()=>{var a;return b("picture",{key:t.value[0].src},[...(a=t.value)!=null&&a[1]?[b("source",{type:t.value[1].type,sizes:t.value[1].sizes,srcset:t.value[1].srcset})]:[],b("img",{ref:j,...n.attrs.value,...h,src:t.value[0].src,sizes:t.value[0].sizes,srcset:t.value[0].srcset})])}}}),ue=Object.freeze(Object.defineProperty({__proto__:null,default:P,pictureProps:C},Symbol.toStringTag,{value:"Module"})),J={viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},Q=d("path",{d:"M12.5 45.832h64.582v8.332H12.5z"},null,-1),U=d("path",{d:"m59.168 77.918-5.836-5.836L75.418 50 53.332 27.918l5.836-5.836L87.082 50z"},null,-1),W=[Q,U];function X(e,o){return i(),c("svg",J,W)}const Y={render:X},Z={class:"absolute top-0 bottom-0 left-0 w-full z-10 overflow-y-auto overscroll-none flex flex-col"},ee={class:"relative mt-auto p-4 md:px-5 md:py-4 after:content-[''] after:absolute after:-top-[100%] after:bottom-0 after:left-0 after:right-0 after:bg-gradient-to-t after:from-black/80 after:to-transparent after:-z-10 after:pointer-events-none"},te=["src","alt"],ae={class:"p-4 md:px-5 md:py-4 pt-0 md:pt-0 bg-black/80 flex flex-col gap-3"},oe={key:0,class:"text-gray-300"},se={key:1,class:"flex flex-wrap gap-2"},re={class:"inline-block px-4 py-2 bg-gray-200 text-gray-700 font-medium text-xs uppercase rounded-full shadow-md whitespace-nowrap"},ne=["href"],y=x({elementRef:null}),de=N({__name:"Project",props:{project:{type:Object,default:null,required:!0}},setup(e){const o=x(null),u=r(()=>o.value&&y.value.elementRef===o.value||!1);function n(p){y.value.elementRef=o.value}return(p,s)=>{const l=P,m=M("Collapse");return i(),c("li",{ref_key:"elementRef",ref:o,class:"group relative rounded overflow-hidden bg-zinc-100 dark:bg-zinc-800",onMouseenter:s[0]||(s[0]=t=>f(y).elementRef=f(o)),onMouseleave:s[1]||(s[1]=t=>f(y).elementRef=null),onTouchend:n,onTouchmove:s[2]||(s[2]=D(()=>{},["stop"]))},[_(l,{src:`${e.project._path}/thumbnail.jpg`,width:"600",height:"365",quality:"80",alt:`Image: ${e.project.title}`,loading:"lazy",imgAttrs:{class:"w-full max-w-none aspect-[16/10] object-cover"},sizes:"sm:100vw lg:50vw lg:50vw xl:600px"},null,8,["src","alt"]),d("div",Z,[d("div",ee,[d("img",{class:"max-h-[60px]",src:`${e.project._path}/logo.svg`,alt:`Logo: ${e.project.title}`},null,8,te)]),_(m,{when:f(u),class:"v-collapse"},{default:T(()=>[d("div",ae,[e.project.description?(i(),c("div",oe,$(e.project.description),1)):w("",!0),e.project.tags&&e.project.tags.length?(i(),c("ul",se,[(i(!0),c(I,null,V(e.project.tags,t=>(i(),c("li",re,$(t),1))),256))])):w("",!0),e.project.url?(i(),c("a",{key:2,href:e.project.url,target:"_blank",class:"inline-flex gap-1 font-bold before:content-[''] before:block [@media(any-hover:hover)]:before:absolute [@media(any-hover:hover)]:before:inset-0 text-gray-300"},[L(" Voir le projet "),_(f(Y),{class:"w-5"})],8,ne)):w("",!0)])]),_:1},8,["when"])])],544)}}});export{P as _,G as a,B as b,de as c,ue as n,K as u};
